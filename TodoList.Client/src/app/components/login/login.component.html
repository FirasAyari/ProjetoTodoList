<div class="row mt-4">
  <div class="col-md-6 offset-md-3">

    <div class="p-4 p-md-5 border rounded shadow-sm bg-white">

      <h2 class="text-center mb-4">Login</h2>
      <hr class="mb-4"/>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

        <div class="alert alert-danger" *ngIf="loginError">
          {{ loginError }}
        </div>

        <div class="mb-3">
          <label for="userName" class="form-label">Username</label>
          <input type="text" id="userName" class="form-control" formControlName="userName"
                 placeholder="Enter your username"
                 [class.is-invalid]="loginForm.controls['userName'].invalid && (loginForm.controls['userName'].dirty || loginForm.controls['userName'].touched)">
          <div *ngIf="loginForm.controls['userName'].invalid && (loginForm.controls['userName'].dirty || loginForm.controls['userName'].touched)" class="invalid-feedback">
            <div *ngIf="loginForm.controls['userName'].errors?.['required']">Username is required.</div>
          </div>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" id="password" class="form-control" formControlName="password"
                 placeholder="Enter your password"
                 [class.is-invalid]="loginForm.controls['password'].invalid && (loginForm.controls['password'].dirty || loginForm.controls['password'].touched)">
           <div *ngIf="loginForm.controls['password'].invalid && (loginForm.controls['password'].dirty || loginForm.controls['password'].touched)" class="invalid-feedback">
            <div *ngIf="loginForm.controls['password'].errors?.['required']">Password is required.</div>
          </div>
        </div>

        <div class="d-grid gap-2 mt-4">
          <button type="submit" class="btn btn-primary" [disabled]="loginForm.invalid || isLoading">
            <span *ngIf="!isLoading">Login</span>
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span *ngIf="isLoading"> Logging in...</span>
          </button>
        </div>

      </form>

      <div class="text-center mt-4">
        Need an account? <a routerLink="/register">Register here</a>
      </div>

    </div>

  </div>
</div>